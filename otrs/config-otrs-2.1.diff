diff -ru Output.original/HTML/Standard/AgentTicketQueue.dtl Output/HTML/Standard/AgentTicketQueue.dtl
--- Output.original/HTML/Standard/AgentTicketQueue.dtl	2006-12-11 15:43:42.000000000 +0100
+++ Output/HTML/Standard/AgentTicketQueue.dtl	2006-12-11 14:51:09.000000000 +0100
@@ -17,6 +17,7 @@
   </tr>
   <tr>
     <td class="menu">
+      <a href="/airt/incident.php">$Text{"AIRT incident overview"}</a>
       $Text{"Tickets shown"}: $Data{"Result"} -
       $Text{"Page"}: $Data{"PageNavBar"} -
       $Text{"Tickets available"}: $Data{"TicketsAvail"} -
diff -ru Output.original/HTML/Standard/AgentTicketQueueTicketView.dtl Output/HTML/Standard/AgentTicketQueueTicketView.dtl
--- Output.original/HTML/Standard/AgentTicketQueueTicketView.dtl	2006-12-11 15:43:42.000000000 +0100
+++ Output/HTML/Standard/AgentTicketQueueTicketView.dtl	2006-12-11 16:15:29.000000000 +0100
@@ -8,6 +8,7 @@
 # the enclosed file COPYING for license information (GPL). If you
 # did not receive this file, see http://www.gnu.org/licenses/gpl.txt.
 # --
+<script type="text/javascript" src="/airt/otrs-airt.js"></script>
 <!-- start ticket -->
 <table border="0" width="100%" cellspacing="0" cellpadding="3">
   <tr>
@@ -101,57 +102,57 @@
       </div>
     </td>
     <td width="25%" align="left" valign="top" class="PriorityID-$Data{"PriorityID"}">
-      <p>
-        <table border="0" cellspacing="0" cellpadding="1">
+      <p/>
+      <b>$Text{"OTRS"}</b><br/>
+      <table>
           <tr valign="top">
             <td><b>$Text{"State"}:</b></td>
             <td><font color="red"><div title="$Quote{"$Text{"$Data{"State"}"}"}">$Quote{"$Text{"$Data{"State"}"}","18"}</div></font></td>
           </tr>
-          <tr valign="top">
-            <td><b>$Text{"Priority"}:</b></td>
-            <td><font color="red"><div title="$Quote{"$Text{"$Data{"Priority"}"}"}">$Quote{"$Text{"$Data{"Priority"}"}","18"}</div></font></td>
-          </tr>
-          <tr valign="top">
-            <td><b>$Text{"Queue"}:</b></td>
-            <td><font color="red"><div title="$QData{"Queue"}">$QData{"Queue","18"}</div></font></td>
-          </tr>
-          <tr valign="top">
-            <td><b>$Text{"CustomerID"}:</b></td>
-            <td><a href="$Config{"CustomerDBLink"}" $Config{"CustomerDBLinkTarget"}>$Quote{"$Data{"CustomerID"}","18"}</a></td>
-          </tr>
-#    <tr  valign="top">
-#      <td><b>$Text{"Owner"}:</b></td>
-#      <td><div title="$QData{"Owner"}">$QData{"Owner","18"}</div></td>
-#    </tr>
-          <tr valign="top">
-            <td><b>$Text{"Escalation in"}:</b></td>
-            <td>$Data{"TicketOverTime"}</td>
-          </tr>
-# --
-# show TicketFreeKey1-2 and TicketFreeText1-2
-# --
-          <dtl if ($Data{"TicketFreeKey1"} ne "") { $Data{"TicketFreeString1"} = "<tr><td><b>$QData{"TicketFreeKey1","25"}:</b></td><td><div title="$QData{"TicketFreeText1"}">$QData{"TicketFreeText1","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey2"} ne "") { $Data{"TicketFreeString2"} = "<tr><td><b>$QData{"TicketFreeKey2","25"}:</b></td><td><div title="$QData{"TicketFreeText2"}">$QData{"TicketFreeText2","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey3"} ne "") { $Data{"TicketFreeString3"} = "<tr><td><b>$QData{"TicketFreeKey3","25"}:</b></td><td><div title="$QData{"TicketFreeText3"}">$QData{"TicketFreeText3","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey4"} ne "") { $Data{"TicketFreeString4"} = "<tr><td><b>$QData{"TicketFreeKey4","25"}:</b></td><td><div title="$QData{"TicketFreeText4"}">$QData{"TicketFreeText4","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey5"} ne "") { $Data{"TicketFreeString5"} = "<tr><td><b>$QData{"TicketFreeKey5","25"}:</b></td><td><div title="$QData{"TicketFreeText5"}">$QData{"TicketFreeText5","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey6"} ne "") { $Data{"TicketFreeString6"} = "<tr><td><b>$QData{"TicketFreeKey6","25"}:</b></td><td><div title="$QData{"TicketFreeText6"}">$QData{"TicketFreeText6","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey7"} ne "") { $Data{"TicketFreeString7"} = "<tr><td><b>$QData{"TicketFreeKey7","25"}:</b></td><td><div title="$QData{"TicketFreeText7"}">$QData{"TicketFreeText7","25"}</div></td></tr>"; }>
-          <dtl if ($Data{"TicketFreeKey8"} ne "") { $Data{"TicketFreeString8"} = "<tr><td><b>$QData{"TicketFreeKey8","25"}:</b></td><td><div title="$QData{"TicketFreeText8"}">$QData{"TicketFreeText8","25"}</div></td></tr>"; }>
-          $Data{"TicketFreeString1"}
-          $Data{"TicketFreeString2"}
-          $Data{"TicketFreeString3"}
-          $Data{"TicketFreeString4"}
-          $Data{"TicketFreeString5"}
-          $Data{"TicketFreeString6"}
-          $Data{"TicketFreeString7"}
-          $Data{"TicketFreeString8"}
-# --
-        </table>
+      </table>
+   <!-- AIRT -->
+   <hr/>
+   <form  action="/airt/otrs.php" method="get">
+   <p><b>$Text{"AIRT"}:</b><br/>
+   <input type="hidden" name="tn" value="$Data{"TicketNumber"}">
+   IP address/host: <input type="text" name="ip" size="15"/><br/>
+   <input type="submit" name="action" value="Search"/>
+   <input type="submit" name="action" value="New Incident"/><br/>
+   <hr/>
+   </p>
+
+   <p>Incident IDs:<br/>
+   <div id="airt_output_$Data{"TicketNumber"}">$Text{"none"}</div><p/>
+   <hr/>
+
+   <p>$Text{"Associate with AIRT incidents"}:<br/>
+   <table>
+   <tr align="right">
+      <td>&nbsp;</td>
+      <td><select id="incidentstatus_$Data{"TicketNumber"}" name="incidentno_s">
+   <option disabled selected value="-1">Select incident</option>
+   </select></td>
+   </tr>
+   <tr>
+      <td><i>or</i></td>
+      <td><input type="text" name="incidentno_t" width="15"/></td>
+   </tr>
+   </table>
+   <input type="submit" name="action" value="Link">
+   </p>
+   <hr/>
+
+   <p><b>$Text{"Quick-keys:"}</b><br/>
+   <input type="submit" name="action" value="Close"/>
+   </p>
+   <hr/>
+   </form>
+   <script language="JavaScript">loadXMLDoc($Data{"TicketNumber"});</script>
+   <!-- AIRT -->
+
 
 # show customer info table
 <!-- dtl:block:CustomerTable -->
-        <p><hr><b>$Text{"Customer Info"}:</b> $Data{"CustomerTable"}<hr></p>
 <!-- dtl:block:CustomerTable -->
 
         <br>
@@ -176,7 +177,7 @@
 
 <!-- dtl:block:AgentAnswer -->
               <p>
-                <b>$Text{"Compose Answer"} ($Text{"email"}):</b>
+                <b>$Text{"Compose OTRS Answer"} ($Text{"email"}):</b>
                 <br>
                 <table border="0">
                   <tr align="left">
@@ -186,19 +187,6 @@
                   </tr>
                 </table>
               </p>
-
-              <p>
-                <b>$Text{"Contact customer"} ($Text{"phone"}):</b>
-                <br>
-                <table border="0">
-                  <tr align="left">
-                    <td>
-                      <dtl if ($Data{"AgentPhone"} ne "0") { $Data{"AgentPhoneStrg"} = "<li><a href="$Env{"Baselink"}Action=AgentTicketPhoneOutbound&TicketID=$Data{"TicketID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Phone call"}'; return true;" onmouseout="window.status='';">$Text{"Phone call"}</a></li>"; }>
-$Data{"AgentPhoneStrg"}
-                    </td>
-                  </tr>
-                </table>
-              </p>
 <!-- dtl:block:AgentAnswer -->
 # --
             </td>
diff -ru Output.original/HTML/Standard/AgentTicketZoom.dtl Output/HTML/Standard/AgentTicketZoom.dtl
--- Output.original/HTML/Standard/AgentTicketZoom.dtl	2006-12-11 15:43:42.000000000 +0100
+++ Output/HTML/Standard/AgentTicketZoom.dtl	2006-12-11 16:12:52.000000000 +0100
@@ -8,7 +8,9 @@
 # the enclosed file COPYING for license information (GPL). If you
 # did not receive this file, see http://www.gnu.org/licenses/gpl.txt.
 # --
-
+<!-- AIRT -->
+<script type="text/javascript" src="/airt/otrs-airt.js"></script>
+<!-- AIRT -->
 <!-- dtl:block:Header -->
 <!-- start ticket head $Data{"TicketNumber"} -->
 <table border="0" width="100%" cellspacing="0" cellpadding="3" cols="2">
@@ -27,6 +29,9 @@
 <table border="0" width="100%" cellspacing="0" cellpadding="3" cols="2">
   <tr>
     <td width="70%" class="menu">
+<!-- AIRT -->
+<a href="/airt/incident.php">$Text{"AIRT incident overview"}</a> -
+<!-- AIRT -->
 
 <!-- dtl:block:Menu -->
 <!-- dtl:block:MenuItemSplit -->
@@ -152,194 +157,227 @@
 
     </td>
     <td width="25%" valign="top" class="PriorityID-$Data{"PriorityID"}">
-# show ticket status (state, lock, ...)
+<b>$Text{"OTRS"}</b><br/>
 <!-- dtl:block:Status -->
-      <table border="0" cellspacing="1" cellpadding="0" width="100%">
-        <tr valign="top">
-          <td><b>$Text{"State"}:</b></td>
-          <td><font color="red"><div title="$Quote{"$Text{"$Data{"State"}"}"}">$Quote{"$Text{"$Data{"State"}"}","18"}</div></font></td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Priority"}:</b></td>
-          <td><font color="red"><div title="$Quote{"$Text{"$Data{"Priority"}"}"}">$Quote{"$Text{"$Data{"Priority"}"}","18"}</div></font></td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Queue"}:</b></td>
-          <td><font color="red"><div title="$QData{"Queue"}">$QData{"Queue","18"}</div></font></td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Locked"}:</b></td>
-          <td><font color="red"><div title="$Quote{"$Text{"$Data{"Lock"}"}"}">$Quote{"$Text{"$Data{"Lock"}"}","18"}</div></font></td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"CustomerID"}:</b></td>
-          <td><a href="$Config{"CustomerDBLink"}" $Config{"CustomerDBLinkTarget"}>$Quote{"$Data{"CustomerID"}","18"}</a></td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Accounted time"}:</b></td>
-          <td>$Data{"TicketTimeUnits"}</td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Escalation in"}:</b></td>
-          <td>$Data{"TicketOverTime"}</td>
-        </tr>
-# use ticket is pending
-        <dtl if ($Data{"PendingUntil"} ne "") { $Data{"PendingUntilString"} = "<tr valign="top"><td><b>$Text{"Pending till"}:</b></td><td>$Data{"PendingUntil"}</td></tr>"; }>
-        $Data{"PendingUntilString"}
-<!-- dtl:block:Owner -->
-        <tr  valign="top">
-          <td><b>$Text{"Owner"}:</b></td>
-          <td><div title="$QData{"UserLogin"} ($QData{"UserFirstname"}$QData{"UserLastname"})">$QData{"UserLogin","18"} ($Quote{"$Data{"UserFirstname"} $Data{"UserLastname"}","18"})</div></td>
-        </tr>
-<!-- dtl:block:Owner -->
-<!-- dtl:block:Responsible -->
-        <tr  valign="top">
-          <td><b>$Text{"Responsible"}:</b></td>
-          <td><div title="$QData{"UserLogin"} ($QData{"UserFirstname"}$QData{"UserLastname"})">$QData{"UserLogin","18"} ($Quote{"$Data{"UserFirstname"} $Data{"UserLastname"}","18"})</div></td>
-        </tr>
-<!-- dtl:block:Responsible -->
-# object links
-        <tr valign="top">
-          <td><b>$Text{"Linked"} ($Text{"Normal"}):</b></td>
-          <td>
-<!-- dtl:block:LinkNormal -->
-            <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
-<!-- dtl:block:LinkNormal -->
-          </td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Linked"} ($Text{"Parent"}):</b></td>
-          <td>
-<!-- dtl:block:LinkParent -->
-            <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
-<!-- dtl:block:LinkParent -->
-          </td>
-        </tr>
-        <tr valign="top">
-          <td><b>$Text{"Linked"} ($Text{"Child"}):</b></td>
-          <td>
-<!-- dtl:block:LinkChild -->
-            <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
-<!-- dtl:block:LinkChild -->
-          </td>
-        </tr>
-# --
-# use this if you want to show TicketFreeKey1-8 and TicketFreeText1-8
-# --
-        <dtl if ($Data{"TicketFreeText1"} ne "") { $Data{"TicketFreeString1"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey1","25"}:</b></td><td><div title="$QData{"TicketFreeText1"}">$QData{"TicketFreeText1","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText2"} ne "") { $Data{"TicketFreeString2"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey2","25"}:</b></td><td><div title="$QData{"TicketFreeText2"}">$QData{"TicketFreeText2","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText3"} ne "") { $Data{"TicketFreeString3"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey3","25"}:</b></td><td><div title="$QData{"TicketFreeText3"}">$QData{"TicketFreeText3","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText4"} ne "") { $Data{"TicketFreeString4"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey4","25"}:</b></td><td><div title="$QData{"TicketFreeText4"}">$QData{"TicketFreeText4","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText5"} ne "") { $Data{"TicketFreeString5"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey5","25"}:</b></td><td><div title="$QData{"TicketFreeText5"}">$QData{"TicketFreeText5","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText6"} ne "") { $Data{"TicketFreeString6"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey6","25"}:</b></td><td><div title="$QData{"TicketFreeText6"}">$QData{"TicketFreeText6","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText7"} ne "") { $Data{"TicketFreeString7"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey7","25"}:</b></td><td><div title="$QData{"TicketFreeText7"}">$QData{"TicketFreeText7","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText8"} ne "") { $Data{"TicketFreeString8"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey8","25"}:</b></td><td><div title="$QData{"TicketFreeText8"}">$QData{"TicketFreeText8","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText9"} ne "") { $Data{"TicketFreeString9"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey9","25"}:</b></td><td><div title="$QData{"TicketFreeText9"}">$QData{"TicketFreeText9","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText10"} ne "") { $Data{"TicketFreeString10"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey10","25"}:</b></td><td><div title="$QData{"TicketFreeText10"}">$QData{"TicketFreeText10","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText11"} ne "") { $Data{"TicketFreeString11"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey11","25"}:</b></td><td><div title="$QData{"TicketFreeText11"}">$QData{"TicketFreeText11","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText12"} ne "") { $Data{"TicketFreeString12"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey12","25"}:</b></td><td><div title="$QData{"TicketFreeText12"}">$QData{"TicketFreeText12","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText13"} ne "") { $Data{"TicketFreeString13"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey13","25"}:</b></td><td><div title="$QData{"TicketFreeText13"}">$QData{"TicketFreeText13","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText14"} ne "") { $Data{"TicketFreeString14"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey14","25"}:</b></td><td><div title="$QData{"TicketFreeText14"}">$QData{"TicketFreeText14","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText15"} ne "") { $Data{"TicketFreeString15"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey15","25"}:</b></td><td><div title="$QData{"TicketFreeText15"}">$QData{"TicketFreeText15","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeText16"} ne "") { $Data{"TicketFreeString16"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey16","25"}:</b></td><td><div title="$QData{"TicketFreeText16"}">$QData{"TicketFreeText16","25"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeTime1"} ne "") { $Data{"TicketFreeTimeString1"} = "<tr valign="top"><td><b>$Text{"$Config{"TicketFreeTimeKey1"}"}:</b></td><td><div title="$TimeShort{"$QData{"TicketFreeTime1"}"}">$TimeShort{"$QData{"TicketFreeTime1"}"}</div></td></tr>"; }>
-        <dtl if ($Data{"TicketFreeTime2"} ne "") { $Data{"TicketFreeTimeString2"} = "<tr valign="top"><td><b>$Text{"$Config{"TicketFreeTimeKey2"}"}:</b></td><td><div title="$TimeShort{"$QData{"TicketFreeTime2"}"}">$TimeShort{"$QData{"TicketFreeTime2"}"}</div></td></tr>"; }>
-        $Data{"TicketFreeString1"}
-        $Data{"TicketFreeString2"}
-        $Data{"TicketFreeString3"}
-        $Data{"TicketFreeString4"}
-        $Data{"TicketFreeString5"}
-        $Data{"TicketFreeString6"}
-        $Data{"TicketFreeString7"}
-        $Data{"TicketFreeString8"}
-        $Data{"TicketFreeString9"}
-        $Data{"TicketFreeString10"}
-        $Data{"TicketFreeString11"}
-        $Data{"TicketFreeString12"}
-        $Data{"TicketFreeString13"}
-        $Data{"TicketFreeString14"}
-        $Data{"TicketFreeString15"}
-        $Data{"TicketFreeString16"}
-        $Data{"TicketFreeTimeString1"}
-        $Data{"TicketFreeTimeString2"}
-      </table>
-# show customer info table
-<!-- dtl:block:CustomerTable -->
-      <p>
-        <hr>
-        <b>$Text{"Customer Info"}:</b>
-        $Data{"CustomerTable"}
-        <hr>
-      </p>
-<!-- dtl:block:CustomerTable -->
-
+       <table border="0" cellspacing="1" cellpadding="0" width="100%">
+         <tr valign="top">
+           <td><b>$Text{"State"}:</b></td>
+           <td><font color="red"><div title="$Quote{"$Text{"$Data{"State"}"}"}">$Quote{"$Text{"$Data{"State"}"}","18"}</div></font></td>
+         </tr>
+       </table>
+<!-- AIRT -->
+   <hr/>
+   <form  action="/airt/otrs.php" method="get">
+   <p><b>$Text{"AIRT"}</b><br/>
+
+   <input type="hidden" name="tn" value="$Data{"TicketNumber"}">
+   IP address/host: <input type="text" name="ip" size="15"/>
+   <br/>
+   <input type="submit" name="action" value="Search"/>
+   <input type="submit" name="action" value="New Incident"/>
+   <p/>
+   <select id="incidentstatus_$Data{"TicketNumber"}" name="incidentno">
+   <option disabled selected>existing incidents</option>
+   </select><br/>
+   <input type="submit" name="action" value="Link"/> to incident <input type="text" name="incidentno" size="15"/><br/>
+   </p>
+
+   <hr/>
+   </p>
+   </p>
+
+   <p>Incident IDs:<br/>
+   <div id="airt_output_$Data{"TicketNumber"}">$Text{"none"}</div><p/>
+   </p>
+   <hr/>
+   <p><b>$Text{"Quick-keys"}:</b><br/>
+   <input type="submit" name="action" value="Close"/>
+  </form>
+   <script language="JavaScript" type="text/javascript">loadXMLDoc('$Data{"TicketNumber"}');</script>
+  <hr/>
+  <p/>
+<!-- AIRT -->
+#         <tr valign="top">
+#           <td><b>$Text{"Priority"}:</b></td>
+#           <td><font color="red"><div title="$Quote{"$Text{"$Data{"Priority"}"}"}">$Quote{"$Text{"$Data{"Priority"}"}","18"}</div></font></td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Queue"}:</b></td>
+#           <td><font color="red"><div title="$QData{"Queue"}">$QData{"Queue","18"}</div></font></td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Locked"}:</b></td>
+#           <td><font color="red"><div title="$Quote{"$Text{"$Data{"Lock"}"}"}">$Quote{"$Text{"$Data{"Lock"}"}","18"}</div></font></td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"CustomerID"}:</b></td>
+#           <td><a href="$Config{"CustomerDBLink"}" $Config{"CustomerDBLinkTarget"}>$Quote{"$Data{"CustomerID"}","18"}</a></td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Accounted time"}:</b></td>
+#           <td>$Data{"TicketTimeUnits"}</td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Escalation in"}:</b></td>
+#           <td>$Data{"TicketOverTime"}</td>
+#         </tr>
+# # use ticket is pending
+#         <dtl if ($Data{"PendingUntil"} ne "") { $Data{"PendingUntilString"} = "<tr valign="top"><td><b>$Text{"Pending till"}:</b></td><td>$Data{"PendingUntil"}</td></tr>"; }>
+#         $Data{"PendingUntilString"}
+# <!-- dtl:block:Owner -->
+#         <tr  valign="top">
+#           <td><b>$Text{"Owner"}:</b></td>
+#           <td><div title="$QData{"UserLogin"} ($QData{"UserFirstname"}$QData{"UserLastname"})">$QData{"UserLogin","18"} ($Quote{"$Data{"UserFirstname"} $Data{"UserLastname"}","18"})</div></td>
+#         </tr>
+# <!-- dtl:block:Owner -->
+# <!-- dtl:block:Responsible -->
+#         <tr  valign="top">
+#           <td><b>$Text{"Responsible"}:</b></td>
+#           <td><div title="$QData{"UserLogin"} ($QData{"UserFirstname"}$QData{"UserLastname"})">$QData{"UserLogin","18"} ($Quote{"$Data{"UserFirstname"} $Data{"UserLastname"}","18"})</div></td>
+#         </tr>
+# <!-- dtl:block:Responsible -->
+# # object links
+#         <tr valign="top">
+#           <td><b>$Text{"Linked"} ($Text{"Normal"}):</b></td>
+#           <td>
+# <!-- dtl:block:LinkNormal -->
+#             <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
+# <!-- dtl:block:LinkNormal -->
+#           </td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Linked"} ($Text{"Parent"}):</b></td>
+#           <td>
+# <!-- dtl:block:LinkParent -->
+#             <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
+# <!-- dtl:block:LinkParent -->
+#           </td>
+#         </tr>
+#         <tr valign="top">
+#           <td><b>$Text{"Linked"} ($Text{"Child"}):</b></td>
+#           <td>
+# <!-- dtl:block:LinkChild -->
+#             <a href="$Env{"Baselink"}$Data{"FrontendDest"}$QData{"ID"}" title="$QData{"Object"}: $QData{"Number"}">$QData{"Text"}</a>
+# <!-- dtl:block:LinkChild -->
+#           </td>
+#         </tr>
+# # --
+# # use this if you want to show TicketFreeKey1-8 and TicketFreeText1-8
+# # --
+#         <dtl if ($Data{"TicketFreeText1"} ne "") { $Data{"TicketFreeString1"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey1","25"}:</b></td><td><div title="$QData{"TicketFreeText1"}">$QData{"TicketFreeText1","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText2"} ne "") { $Data{"TicketFreeString2"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey2","25"}:</b></td><td><div title="$QData{"TicketFreeText2"}">$QData{"TicketFreeText2","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText3"} ne "") { $Data{"TicketFreeString3"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey3","25"}:</b></td><td><div title="$QData{"TicketFreeText3"}">$QData{"TicketFreeText3","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText4"} ne "") { $Data{"TicketFreeString4"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey4","25"}:</b></td><td><div title="$QData{"TicketFreeText4"}">$QData{"TicketFreeText4","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText5"} ne "") { $Data{"TicketFreeString5"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey5","25"}:</b></td><td><div title="$QData{"TicketFreeText5"}">$QData{"TicketFreeText5","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText6"} ne "") { $Data{"TicketFreeString6"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey6","25"}:</b></td><td><div title="$QData{"TicketFreeText6"}">$QData{"TicketFreeText6","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText7"} ne "") { $Data{"TicketFreeString7"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey7","25"}:</b></td><td><div title="$QData{"TicketFreeText7"}">$QData{"TicketFreeText7","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText8"} ne "") { $Data{"TicketFreeString8"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey8","25"}:</b></td><td><div title="$QData{"TicketFreeText8"}">$QData{"TicketFreeText8","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText9"} ne "") { $Data{"TicketFreeString9"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey9","25"}:</b></td><td><div title="$QData{"TicketFreeText9"}">$QData{"TicketFreeText9","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText10"} ne "") { $Data{"TicketFreeString10"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey10","25"}:</b></td><td><div title="$QData{"TicketFreeText10"}">$QData{"TicketFreeText10","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText11"} ne "") { $Data{"TicketFreeString11"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey11","25"}:</b></td><td><div title="$QData{"TicketFreeText11"}">$QData{"TicketFreeText11","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText12"} ne "") { $Data{"TicketFreeString12"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey12","25"}:</b></td><td><div title="$QData{"TicketFreeText12"}">$QData{"TicketFreeText12","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText13"} ne "") { $Data{"TicketFreeString13"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey13","25"}:</b></td><td><div title="$QData{"TicketFreeText13"}">$QData{"TicketFreeText13","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText14"} ne "") { $Data{"TicketFreeString14"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey14","25"}:</b></td><td><div title="$QData{"TicketFreeText14"}">$QData{"TicketFreeText14","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText15"} ne "") { $Data{"TicketFreeString15"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey15","25"}:</b></td><td><div title="$QData{"TicketFreeText15"}">$QData{"TicketFreeText15","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeText16"} ne "") { $Data{"TicketFreeString16"} = "<tr valign="top"><td><b>$QData{"TicketFreeKey16","25"}:</b></td><td><div title="$QData{"TicketFreeText16"}">$QData{"TicketFreeText16","25"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeTime1"} ne "") { $Data{"TicketFreeTimeString1"} = "<tr valign="top"><td><b>$Text{"$Config{"TicketFreeTimeKey1"}"}:</b></td><td><div title="$TimeShort{"$QData{"TicketFreeTime1"}"}">$TimeShort{"$QData{"TicketFreeTime1"}"}</div></td></tr>"; }>
+#         <dtl if ($Data{"TicketFreeTime2"} ne "") { $Data{"TicketFreeTimeString2"} = "<tr valign="top"><td><b>$Text{"$Config{"TicketFreeTimeKey2"}"}:</b></td><td><div title="$TimeShort{"$QData{"TicketFreeTime2"}"}">$TimeShort{"$QData{"TicketFreeTime2"}"}</div></td></tr>"; }>
+#         $Data{"TicketFreeString1"}
+#         $Data{"TicketFreeString2"}
+#         $Data{"TicketFreeString3"}
+#         $Data{"TicketFreeString4"}
+#         $Data{"TicketFreeString5"}
+#         $Data{"TicketFreeString6"}
+#         $Data{"TicketFreeString7"}
+#         $Data{"TicketFreeString8"}
+#         $Data{"TicketFreeString9"}
+#         $Data{"TicketFreeString10"}
+#         $Data{"TicketFreeString11"}
+#         $Data{"TicketFreeString12"}
+#         $Data{"TicketFreeString13"}
+#         $Data{"TicketFreeString14"}
+#         $Data{"TicketFreeString15"}
+#         $Data{"TicketFreeString16"}
+#         $Data{"TicketFreeTimeString1"}
+#         $Data{"TicketFreeTimeString2"}
+#       </table>
+# # show customer info table
+# <!-- dtl:block:CustomerTable -->
+#       <p>
+#         <hr>
+#         <b>$Text{"Customer Info"}:</b>
+#         $Data{"CustomerTable"}
+#         <hr>
+#       </p>
+# <!-- dtl:block:CustomerTable -->
+# 
 <!-- dtl:block:Status -->
 
       <table border="0" cellspacing="0" cellpadding="1" width="95%">
         <tr>
           <td>
 # show compose links
-<!-- dtl:block:AgentIsCustomer -->
-            <p>
-              <b>$Text{"Your own Ticket"}:</b>
-              <br>
-              <table border="0">
-                <tr>
-                  <td>
-                    <li><a href="$Env{"Baselink"}Action=AgentTicketCustomerFollowUp&TicketID=$Data{"TicketID"}" onmouseover="window.status='$JSText{"Compose Follow up"}'; return true;" onmouseout="window.status='';">$Text{"Compose Follow up"}</a></li>
-                  </td>
-                </tr>
-              </table>
-            </p>
-<!-- dtl:block:AgentIsCustomer -->
+#<!-- dtl:block:AgentIsCustomer -->
+#            <p>
+#              <b>$Text{"Your own Ticket"}:</b>
+#              <br>
+#              <table border="0">
+#                <tr>
+#                  <td>
+#                    <li><a href="$Env{"Baselink"}Action=AgentTicketCustomerFollowUp&TicketID=$Data{"TicketID"}" onmouseover="window.status='$JSText{"Compose Follow up"}'; return true;" onmouseout="window.status='';">$Text{"Compose Follow up"}</a></li>
+#                  </td>
+#                </tr>
+#              </table>
+#            </p>
+#<!-- dtl:block:AgentIsCustomer -->
 
 <!-- dtl:block:AgentAnswer -->
-            <p>
-              <b>$Text{"Compose Answer"} ($Text{"email"}):</b>
-              <br>
-              <table border="0">
-                <tr>
-                  <td>
-                    $Data{"StdResponsesStrg"}
-                  </td>
-                </tr>
-              </table>
-            </p>
-
-            <p>
-              <b>$Text{"Contact customer"} ($Text{"phone"}):</b>
-              <br>
-              <table border="0">
-                <tr>
-                  <td>
-                    <dtl if ($Data{"AgentTicketPhoneOutbound"} ne "0") { $Data{"AgentPhoneStrg"} = "<li><a href="$Env{"Baselink"}Action=AgentTicketPhoneOutbound&TicketID=$Data{"TicketID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Phone call"}'; return true;" onmouseout="window.status='';">$Text{"Phone call"}</a></li>"; }>
-$Data{"AgentPhoneStrg"}
-                  </td>
-                </tr>
-              </table>
-            </p>
+#            <p>
+#              <b>$Text{"Compose Answer"} ($Text{"email"}):</b>
+#              <br>
+#              <table border="0">
+#                <tr>
+#                  <td>
+#                    $Data{"StdResponsesStrg"}
+#                  </td>
+#                </tr>
+#              </table>
+#            </p>
+#
+#            <p>
+#              <b>$Text{"Contact customer"} ($Text{"phone"}):</b>
+#              <br>
+#              <table border="0">
+#                <tr>
+#                  <td>
+#                    <dtl if ($Data{"AgentTicketPhoneOutbound"} ne "0") { $Data{"AgentPhoneStrg"} = "<li><a href="$Env{"Baselink"}Action=AgentTicketPhoneOutbound&TicketID=$Data{"TicketID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Phone call"}'; return true;" onmouseout="window.status='';">$Text{"Phone call"}</a></li>"; }>
+#$Data{"AgentPhoneStrg"}
+#                  </td>
+#                </tr>
+#              </table>
+#            </p>
 <!-- dtl:block:AgentAnswer -->
 # show article links
-<!-- dtl:block:AgentArticleCom -->
-            <p>
-              <b>$Text{"Article"}</b>
-              <table border="0">
-                <tr>
-                  <td>
-                    <a href="$Env{"Baselink"}Action=AgentTicketForward&TicketID=$Data{"TicketID"}&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Forward"}'; return true;" onmouseout="window.status='';">$Text{"Forward"}</a>
-# check if bounce should be shown
-                    <dtl if ($Data{"ArticleType"} eq "email-external") { $Data{"ArticleBounceString"} = "Bounce"; }>
-                    <dtl if ($Data{"SenderType"} ne "customer") { $Data{"ArticleBounceString"} = ""; }>
-                    <a href="$Env{"Baselink"}Action=AgentTicketBounce&TicketID=$Data{"TicketID"}&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Bounce"}'; return true;" onmouseout="window.status='';">$Text{"$Data{"ArticleBounceString"}"}</a>
-# check if split should be shown
-                    <dtl if ($Data{"SenderType"} eq "customer") { $Data{"ArticleSplitString"} = "Split"; }>
-
-                    <a href="$Env{"Baselink"}Action=AgentTicketPhone&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Split"}'; return true;" onmouseout="window.status='';">$Text{"$Data{"ArticleSplitString"}"}</a>
-                  </td>
-                </tr>
-              </table>
-            </p>
-<!-- dtl:block:AgentArticleCom -->
+# <!-- dtl:block:AgentArticleCom -->
+#            <p>
+#              <b>$Text{"Article"}</b>
+#              <table border="0">
+#                <tr>
+#                  <td>
+#                    <a href="$Env{"Baselink"}Action=AgentTicketForward&TicketID=$Data{"TicketID"}&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Forward"}'; return true;" onmouseout="window.status='';">$Text{"Forward"}</a>
+## check if bounce should be shown
+#                    <dtl if ($Data{"ArticleType"} eq "email-external") { $Data{"ArticleBounceString"} = "Bounce"; }>
+#                    <dtl if ($Data{"SenderType"} ne "customer") { $Data{"ArticleBounceString"} = ""; }>
+#                    <a href="$Env{"Baselink"}Action=AgentTicketBounce&TicketID=$Data{"TicketID"}&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Bounce"}'; return true;" onmouseout="window.status='';">$Text{"$Data{"ArticleBounceString"}"}</a>
+## check if split should be shown
+#                    <dtl if ($Data{"SenderType"} eq "customer") { $Data{"ArticleSplitString"} = "Split"; }>
+#
+#                    <a href="$Env{"Baselink"}Action=AgentTicketPhone&ArticleID=$Data{"ArticleID"}&QueueID=$Data{"QueueID"}" onmouseover="window.status='$JSText{"Split"}'; return true;" onmouseout="window.status='';">$Text{"$Data{"ArticleSplitString"}"}</a>
+#                  </td>
+#                </tr>
+#              </table>
+#            </p>
+# <!-- dtl:block:AgentArticleCom -->
           </td>
         </tr>
       </table>
