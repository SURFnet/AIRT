#!/usr/bin/php
<?php
/* vim: syntax=php tabstop=3 shiftwidth=3
 *
 * AIRT: APPLICATION FOR INCIDENT RESPONSE TEAMS
 * Copyright (C) 2005   Tilburg University, The Netherlands

 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.

 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.

 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 *
 * import -- import incident reports into the AIRT Queue Manager.
 * 
 * $Id$
 */

// Pick up standard AIRT config and other required libraries.
require_once '@AIRTPATH@/airt.cfg';
require_once LIBDIR.'/importqueue/importqueue.plib';
# require_once LIBDIR.'/airt.plib';
# require_once LIBDIR.'/database.plib';


// Set up all default command line options.
// Options are either Boolean (--option) or scalar (--option=value).
$OPTIONS = array();
$OPTIONS['--filter']  = 'none';
$OPTIONS['--help']    = false;
$OPTIONS['--noqueue'] = false;
$OPTIONS['--verbose'] = false;

array_shift($argv);               // get rid of argument 0, the command itself.
foreach ($argv as $option) {
   list($option,$value) = split('=',$option);
   if (isset($OPTIONS[$option])) {
      // Known option, get new value of the correct type.
      if (is_bool($OPTIONS[$option])) {
         $OPTIONS[$option] = true;
      } else {
         $OPTIONS[$option] = $value;
      }
   } else {
      // Unknown option, quit.
      fwrite(STDERR,"Unknown option $option.\n");
      exit(1);
   }
}

if ($OPTIONS['--help']) {
   printUsage();
   exit(0);
}


// Successful completion.
return 0;

?>
