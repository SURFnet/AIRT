AIRT installation manual for packages
-------------------------------------
$Id$
In CVS at $Source$

	After installing the AIRT package, a few actions need to be taken.

	Step 1. Edit /usr/local/etc/airt/airt.cfg and set the variables apropriately.

	Step 2. Create the database referred to in the configuration file. This
	would typically be achieved by changing to the postgres user and giving
	the following commands

		postgres:~% createdb airt
		CREATE DATABASE
	
	Step 3. Create the database user that is referred to in the configuration
	file. For example,

		postgres:~% createuser airt
		Shall the new user be allowed to create databases? (y/n) n
		Shall the new user be allowed to create more new users? (y/n) n
		CREATE USER

	Step 4. Set the database password. For example

		postgres:~% psql template1
		Welcome to psql 7.4.6, the PostgreSQL interactive terminal.
		...

		template1=# alter user airt with password 'yourpassword';
		ALTER USER
	
	Step 5. Make sure the airt user has access to the database. Edit
	/etc/postgresql/pg_hba.conf and add the line. 

		local   airt        airt       password

	Keep in mind that the order of access control rules in pg_hba.conf is
	important. Add the line after the line which grants the postgres user
	access to all databases.

	Step 6. Initialise the database.

	postgres:~% gunzip -c /usr/local/share/doc/airt/airtschema.sql.gz \
		    |psql airt airt

	Dont worry if the scripts outputs ERRORs in the the beginning; this is due
	to the fact that it tries to drop sequences and tables that may not exist
	yet.
		
	Step 7. Bootstrap the database.
			
	postgres:~% gunzip -c /usr/local/share/doc/airt/airtbootstrap.sql.gz \
		    |psql airt airt

	Step 8. Configure apache. The easiest way to do this is to add a symbolic
	link in /etc/apache/conf.d, which points to 
	/usr/local/etc/airt/airt-apache.conf

	As root do

		root:/etc/apache/conf.d:# ln -s /usr/local/etc/airt/airt-apache.conf

	Step 9. Confirm that the configuration file is correct

		root:~# apachectl configtest

	Step 10. If everything checks out, reload the apache configuration and you
	should be done. If apache is already running, do

		root:~# invoke-rc.d apache reload

	else do

		root:~# invoke-rc.d apache start

	Step 11. Change the admin password. Point your browser at the machine that
	hosts the application and log in with user admin, password admin. On the
	main menu, click Edit settings > Edit users. Then, on the line with the
	admin user, click edit and set a (different) password.


